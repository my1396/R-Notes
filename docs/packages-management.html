<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.3 Packages Management | Cross References</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="2.3 Packages Management | Cross References" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="my1396/R-Notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.3 Packages Management | Cross References" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="John Doe" />


<meta name="date" content="2025-04-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/r-project-favicon.ico" type="image/x-icon" />
<link rel="prev" href="update-r.html"/>
<link rel="next" href="using-git-with-rstudio.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<head>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
    </script>
</head>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About</a>
<ul>
<li class="chapter" data-level="1.1" data-path="usage.html"><a href="usage.html"><i class="fa fa-check"></i><b>1.1</b> Usage</a></li>
<li class="chapter" data-level="1.2" data-path="render-book.html"><a href="render-book.html"><i class="fa fa-check"></i><b>1.2</b> Render book</a></li>
<li class="chapter" data-level="1.3" data-path="preview-book.html"><a href="preview-book.html"><i class="fa fa-check"></i><b>1.3</b> Preview book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rstudio.html"><a href="rstudio.html"><i class="fa fa-check"></i><b>2</b> Rstudio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="dark-theme.html"><a href="dark-theme.html"><i class="fa fa-check"></i><b>2.1</b> Dark Theme</a></li>
<li class="chapter" data-level="2.2" data-path="update-r.html"><a href="update-r.html"><i class="fa fa-check"></i><b>2.2</b> Update R</a></li>
<li class="chapter" data-level="2.3" data-path="packages-management.html"><a href="packages-management.html"><i class="fa fa-check"></i><b>2.3</b> Packages Management</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="packages-management.html"><a href="packages-management.html#load-packages"><i class="fa fa-check"></i><b>2.3.1</b> Load packages</a></li>
<li class="chapter" data-level="2.3.2" data-path="packages-management.html"><a href="packages-management.html#install-packages"><i class="fa fa-check"></i><b>2.3.2</b> Install packages</a></li>
<li class="chapter" data-level="2.3.3" data-path="packages-management.html"><a href="packages-management.html#update-packages"><i class="fa fa-check"></i><b>2.3.3</b> Update packages</a></li>
<li class="chapter" data-level="" data-path="packages-management.html"><a href="packages-management.html#put-your-r-package-on-github"><i class="fa fa-check"></i>Put your R package on GitHub</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="using-git-with-rstudio.html"><a href="using-git-with-rstudio.html"><i class="fa fa-check"></i><b>2.4</b> Using Git with RStudio</a></li>
<li class="chapter" data-level="2.5" data-path="copilot.html"><a href="copilot.html"><i class="fa fa-check"></i><b>2.5</b> Copilot</a></li>
<li class="chapter" data-level="2.6" data-path="save-r-workspace.html"><a href="save-r-workspace.html"><i class="fa fa-check"></i><b>2.6</b> Save R Workspace</a></li>
<li class="chapter" data-level="2.7" data-path="options.html"><a href="options.html"><i class="fa fa-check"></i><b>2.7</b> Options</a></li>
<li class="chapter" data-level="2.8" data-path="r-startup.html"><a href="r-startup.html"><i class="fa fa-check"></i><b>2.8</b> R Startup</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="knit-rmd.html"><a href="knit-rmd.html"><i class="fa fa-check"></i><b>3</b> Knit Rmd</a>
<ul>
<li class="chapter" data-level="3.1" data-path="chunk-options.html"><a href="chunk-options.html"><i class="fa fa-check"></i><b>3.1</b> Chunk Options</a></li>
<li class="chapter" data-level="3.2" data-path="print-verbatim-r-code-chunks.html"><a href="print-verbatim-r-code-chunks.html"><i class="fa fa-check"></i><b>3.2</b> Print Verbatim R code chunks</a></li>
<li class="chapter" data-level="3.3" data-path="rmd-basics.html"><a href="rmd-basics.html"><i class="fa fa-check"></i><b>3.3</b> Rmd Basics</a></li>
<li class="chapter" data-level="3.4" data-path="citing-references.html"><a href="citing-references.html"><i class="fa fa-check"></i><b>3.4</b> Citing References</a></li>
<li class="chapter" data-level="3.5" data-path="cross-references.html"><a href="cross-references.html"><i class="fa fa-check"></i><b>3.5</b> Cross References</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="cross-references.html"><a href="cross-references.html#using-bookdown"><i class="fa fa-check"></i><b>3.5.1</b> Using <code>bookdown</code></a></li>
<li class="chapter" data-level="3.5.2" data-path="cross-references.html"><a href="cross-references.html#using-the-latex-way"><i class="fa fa-check"></i><b>3.5.2</b> Using the LaTeX Way</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="equations.html"><a href="equations.html"><i class="fa fa-check"></i><b>3.6</b> Equations</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="basic-r.html"><a href="basic-r.html"><i class="fa fa-check"></i><b>4</b> Basic R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-input-output.html"><a href="data-input-output.html"><i class="fa fa-check"></i><b>4.1</b> Data Input &amp; Output</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data-input-output.html"><a href="data-input-output.html#read-data"><i class="fa fa-check"></i><b>4.1.1</b> Read Data</a></li>
<li class="chapter" data-level="4.1.2" data-path="data-input-output.html"><a href="data-input-output.html#write-data"><i class="fa fa-check"></i><b>4.1.2</b> Write Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="machine-learning.html"><a href="machine-learning.html"><i class="fa fa-check"></i><b>5</b> Machine Learning</a>
<ul>
<li class="chapter" data-level="5.1" data-path="random-forest.html"><a href="random-forest.html"><i class="fa fa-check"></i><b>5.1</b> Random Forest</a>
<ul>
<li class="chapter" data-level="" data-path="random-forest.html"><a href="random-forest.html#implementation-in-r"><i class="fa fa-check"></i>Implementation in R</a></li>
<li class="chapter" data-level="" data-path="random-forest.html"><a href="random-forest.html#imbalance-classification"><i class="fa fa-check"></i>Imbalance Classification</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="neural-network.html"><a href="neural-network.html"><i class="fa fa-check"></i><b>5.2</b> Neural Network</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Cross References</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="packages-management" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Packages Management<a href="packages-management.html#packages-management" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="load-packages" class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Load packages<a href="packages-management.html#load-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Q: What is the difference btw <code>library(package)</code> and <code>require(package)</code>?<br />
A:</p>
<ul>
<li><p><code>library(package)</code> returns an error if the package doesn’t exist.</p></li>
<li><p><code>require(package)</code> returns <code>FALSE</code> if the package is not found and <code>TRUE</code> if the packages is loaded. <code>require</code> is designed for use inside other functions, such as using the value it returns in some error checking loop, as it outputs a warning and continues if the package is not found.</p></li>
</ul>
<p>Q: How to reload a package after updating?<br />
A: Call <code>detach(package:pkg, unload = TRUE)</code> or <code>unloadNamespace</code> first, then use <code>library(pkg)</code> to reload. If you use <code>library</code> on a package whose namespace is loaded, it attaches the exports of the already loaded namespace. So detaching and re-attaching a package may not refresh some or all components of the package, and is inadvisable. The most reliable way to completely detach a package is to <span style="color:#00CC66">restart R</span>.</p>
<p>For example, if we want to detach <code>ggplot2</code> package, we can use</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="packages-management.html#cb15-1" tabindex="-1"></a><span class="fu">detach</span>(package<span class="sc">:</span>ggplot2, <span class="at">unload=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p><code>requireNamespace</code> can be used to <em>test</em> if a package is installed and loadable because it comes back with either <code>TRUE</code> (if found the pkg) or <code>FALSE</code> (if failed to find the pkg).</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="packages-management.html#cb16-1" tabindex="-1"></a><span class="sc">&gt;</span> <span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">&quot;ggplot2&quot;</span>)</span>
<span id="cb16-2"><a href="packages-management.html#cb16-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">FALSE</span></span>
<span id="cb16-3"><a href="packages-management.html#cb16-3" tabindex="-1"></a><span class="sc">&gt;</span> <span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">&quot;ggplot3&quot;</span>)</span>
<span id="cb16-4"><a href="packages-management.html#cb16-4" tabindex="-1"></a>Loading required namespace<span class="sc">:</span> ggplot3</span>
<span id="cb16-5"><a href="packages-management.html#cb16-5" tabindex="-1"></a>Failed with error<span class="sc">:</span>  ‘there is no package called ‘ggplot3’’</span>
<span id="cb16-6"><a href="packages-management.html#cb16-6" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span></code></pre></div>
<p>To see whether need to install some packages:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="packages-management.html#cb17-1" tabindex="-1"></a><span class="co"># install the package if it is not available</span></span>
<span id="cb17-2"><a href="packages-management.html#cb17-2" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">&quot;devtools&quot;</span>)) <span class="fu">install.packages</span>(<span class="st">&quot;devtools&quot;</span>)</span>
<span id="cb17-3"><a href="packages-management.html#cb17-3" tabindex="-1"></a><span class="co"># or equivalently</span></span>
<span id="cb17-4"><a href="packages-management.html#cb17-4" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&quot;devtools&quot;</span>)) <span class="fu">install.packages</span>(<span class="st">&quot;devtools&quot;</span>)</span></code></pre></div>
<p>You can also use <code>require(devtools)</code> to check whether the required package is available, but note that it will load the package as a side effect.</p>
<p>Alternatively,</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="packages-management.html#cb18-1" tabindex="-1"></a><span class="co"># short command</span></span>
<span id="cb18-2"><a href="packages-management.html#cb18-2" tabindex="-1"></a><span class="st">&quot;ggplot2&quot;</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()</span>
<span id="cb18-3"><a href="packages-management.html#cb18-3" tabindex="-1"></a><span class="co"># full command</span></span>
<span id="cb18-4"><a href="packages-management.html#cb18-4" tabindex="-1"></a><span class="st">&quot;ggplot2&quot;</span> <span class="sc">%in%</span> <span class="fu">rownames</span>(<span class="fu">installed.packages</span>())</span></code></pre></div>
<p><code>installed.packages()</code> Finds details of all packages installed in the specified library path <code>lib.loc</code>. Returns a matrix of package names, library paths and version numbers.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="packages-management.html#cb19-1" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">installed.packages</span>() <span class="sc">%&gt;%</span> <span class="fu">class</span>()</span>
<span id="cb19-2"><a href="packages-management.html#cb19-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;matrix&quot;</span> <span class="st">&quot;array&quot;</span> </span>
<span id="cb19-3"><a href="packages-management.html#cb19-3" tabindex="-1"></a></span>
<span id="cb19-4"><a href="packages-management.html#cb19-4" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">installed.packages</span>() <span class="sc">%&gt;%</span> <span class="fu">str</span>()</span>
<span id="cb19-5"><a href="packages-management.html#cb19-5" tabindex="-1"></a> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">355</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>] <span class="st">&quot;abind&quot;</span> <span class="st">&quot;alphavantager&quot;</span> <span class="st">&quot;anytime&quot;</span> <span class="st">&quot;askpass&quot;</span> <span class="st">&quot;assertthat&quot;</span> <span class="st">&quot;backports&quot;</span> <span class="st">&quot;base&quot;</span> ...</span>
<span id="cb19-6"><a href="packages-management.html#cb19-6" tabindex="-1"></a> <span class="sc">-</span> <span class="fu">attr</span>(<span class="sc">*</span>, <span class="st">&quot;dimnames&quot;</span>)<span class="ot">=</span>List of <span class="dv">2</span></span>
<span id="cb19-7"><a href="packages-management.html#cb19-7" tabindex="-1"></a>  ..<span class="sc">$</span> <span class="er">:</span> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">355</span>] <span class="st">&quot;abind&quot;</span> <span class="st">&quot;alphavantager&quot;</span> <span class="st">&quot;anytime&quot;</span> <span class="st">&quot;askpass&quot;</span> ...</span>
<span id="cb19-8"><a href="packages-management.html#cb19-8" tabindex="-1"></a>  ..<span class="sc">$</span> <span class="er">:</span> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>] <span class="st">&quot;Package&quot;</span> <span class="st">&quot;LibPath&quot;</span> <span class="st">&quot;Version&quot;</span> <span class="st">&quot;Priority&quot;</span> ...</span></code></pre></div>
<p>The following code can be used to load packages for your project and set up the working environment.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="packages-management.html#cb20-1" tabindex="-1"></a><span class="co"># load the pkg, if not found, install then load</span></span>
<span id="cb20-2"><a href="packages-management.html#cb20-2" tabindex="-1"></a><span class="fu">require</span>(dplyr) <span class="sc">||</span> {<span class="fu">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>); <span class="fu">require</span>(dplyr)}</span>
<span id="cb20-3"><a href="packages-management.html#cb20-3" tabindex="-1"></a><span class="fu">require</span>(odbc) <span class="sc">||</span> {<span class="fu">install.packages</span>(<span class="st">&quot;odbc&quot;</span>); <span class="fu">require</span>(odbc)}</span>
<span id="cb20-4"><a href="packages-management.html#cb20-4" tabindex="-1"></a><span class="fu">require</span>(DBI) <span class="sc">||</span> {<span class="fu">install.packages</span>(<span class="st">&quot;DBI&quot;</span>); <span class="fu">require</span>(DBI)}</span></code></pre></div>
<p>If using <code>library()</code>, will return error if some package is not installed and interrupt the program.</p>
<p>If it is a list of packages you want to check, use <code>lapply</code> to loop through all packages.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="packages-management.html#cb21-1" tabindex="-1"></a><span class="do">## First specify the packages of interest</span></span>
<span id="cb21-2"><a href="packages-management.html#cb21-2" tabindex="-1"></a>packages <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;MASS&quot;</span>, <span class="st">&quot;nlme&quot;</span>)</span>
<span id="cb21-3"><a href="packages-management.html#cb21-3" tabindex="-1"></a></span>
<span id="cb21-4"><a href="packages-management.html#cb21-4" tabindex="-1"></a><span class="do">## Now load or install&amp;load all</span></span>
<span id="cb21-5"><a href="packages-management.html#cb21-5" tabindex="-1"></a>package.check <span class="ot">&lt;-</span> <span class="fu">lapply</span>(</span>
<span id="cb21-6"><a href="packages-management.html#cb21-6" tabindex="-1"></a>  packages,</span>
<span id="cb21-7"><a href="packages-management.html#cb21-7" tabindex="-1"></a>  <span class="at">FUN =</span> <span class="cf">function</span>(x) {</span>
<span id="cb21-8"><a href="packages-management.html#cb21-8" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(x, <span class="at">character.only =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb21-9"><a href="packages-management.html#cb21-9" tabindex="-1"></a>      <span class="fu">install.packages</span>(x, <span class="at">dependencies =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-10"><a href="packages-management.html#cb21-10" tabindex="-1"></a>      <span class="fu">library</span>(x, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-11"><a href="packages-management.html#cb21-11" tabindex="-1"></a>    }</span>
<span id="cb21-12"><a href="packages-management.html#cb21-12" tabindex="-1"></a>  }</span>
<span id="cb21-13"><a href="packages-management.html#cb21-13" tabindex="-1"></a>)</span></code></pre></div>
<p>You can then use <code>search()</code> to determine whether all the packages have loaded.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="packages-management.html#cb22-1" tabindex="-1"></a><span class="fu">search</span>()</span>
<span id="cb22-2"><a href="packages-management.html#cb22-2" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;.GlobalEnv&quot;</span>        <span class="st">&quot;package:nlme&quot;</span>      <span class="st">&quot;package:MASS&quot;</span>     </span>
<span id="cb22-3"><a href="packages-management.html#cb22-3" tabindex="-1"></a> [<span class="dv">4</span>] <span class="st">&quot;package:stats&quot;</span>     <span class="st">&quot;package:graphics&quot;</span>  <span class="st">&quot;package:grDevices&quot;</span></span>
<span id="cb22-4"><a href="packages-management.html#cb22-4" tabindex="-1"></a> [<span class="dv">7</span>] <span class="st">&quot;package:datasets&quot;</span>  <span class="st">&quot;renv:shims&quot;</span>        <span class="st">&quot;package:utils&quot;</span>    </span>
<span id="cb22-5"><a href="packages-management.html#cb22-5" tabindex="-1"></a>[<span class="dv">10</span>] <span class="st">&quot;package:methods&quot;</span>   <span class="st">&quot;Autoloads&quot;</span>         <span class="st">&quot;package:base&quot;</span>     </span></code></pre></div>
<p>Q: <code>dplyr</code> has many conflicts with <code>plyr</code>.<br />
A: Specify pkg using <code>::</code>. Or set library priority by</p>
<ul>
<li>changing the order in which you load the packages.</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="packages-management.html#cb23-1" tabindex="-1"></a><span class="co"># load dplyr last so that it has priority</span></span>
<span id="cb23-2"><a href="packages-management.html#cb23-2" tabindex="-1"></a><span class="fu">library</span>(plyr)</span>
<span id="cb23-3"><a href="packages-management.html#cb23-3" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<ul>
<li>with the {needs} package</li>
</ul>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="packages-management.html#cb24-1" tabindex="-1"></a><span class="fu">library</span>(needs)</span>
<span id="cb24-2"><a href="packages-management.html#cb24-2" tabindex="-1"></a><span class="co"># prioritize the functions in dplyr</span></span>
<span id="cb24-3"><a href="packages-management.html#cb24-3" tabindex="-1"></a><span class="fu">prioritize</span>(dplyr) </span></code></pre></div>
<p>Q: How to unload a package without restarting R?<br />
A: <code>detach("package:ggplot2", unload=TRUE)</code> or uncheck the checkbox button in <code>Packages</code> pane.</p>
<p><img src="https://drive.google.com/thumbnail?id=16NDo2Ozhz4AnvGoKkP5YuwROS4fYstIN&sz=w1000" alt="" style="display: block; margin-right: auto; margin-left: auto; zoom:80%;" /></p>
<hr />
</div>
<div id="install-packages" class="section level3 hasAnchor" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> Install packages<a href="packages-management.html#install-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Install R packages from source</strong></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="packages-management.html#cb25-1" tabindex="-1"></a><span class="co"># From local tarball</span></span>
<span id="cb25-2"><a href="packages-management.html#cb25-2" tabindex="-1"></a><span class="fu">install.packages</span>(</span>
<span id="cb25-3"><a href="packages-management.html#cb25-3" tabindex="-1"></a>  <span class="co"># indicate path of the package source file</span></span>
<span id="cb25-4"><a href="packages-management.html#cb25-4" tabindex="-1"></a>  <span class="st">&quot;~/Documents/R/UserPackages/shoRtcut2_0.1.0.tar.gz&quot;</span>, </span>
<span id="cb25-5"><a href="packages-management.html#cb25-5" tabindex="-1"></a>  <span class="co"># indicate it is a local file</span></span>
<span id="cb25-6"><a href="packages-management.html#cb25-6" tabindex="-1"></a>  <span class="at">repos =</span> <span class="cn">NULL</span>)</span>
<span id="cb25-7"><a href="packages-management.html#cb25-7" tabindex="-1"></a></span>
<span id="cb25-8"><a href="packages-management.html#cb25-8" tabindex="-1"></a><span class="co"># From github</span></span>
<span id="cb25-9"><a href="packages-management.html#cb25-9" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;Rcpp&quot;</span>, <span class="at">repos=</span><span class="st">&quot;https://rcppcore.github.io/drat&quot;</span>)</span></code></pre></div>
<p><strong>Install from GitHub</strong></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="packages-management.html#cb26-1" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(repo, <span class="at">ref=</span><span class="st">&quot;HEAD&quot;</span>, <span class="at">subdir =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<ul>
<li><code>repo</code> repository address in the format <code>username/repo[/subdir][@ref|#pull]</code>. Alternatively, you can specify <code>subdir</code> and/or <code>ref</code> using the respective parameters. If both are specified, the values in <code>repo</code> take precedence.</li>
<li><code>ref</code> Desired git reference. Could be a commit, tag, or branch name, or a call to <code>github_pull()</code> or <code>github_release()</code>. Defaults to <code>"HEAD"</code>, which means the default branch on GitHub and for git remotes.</li>
</ul>
<p>Ex</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="packages-management.html#cb27-1" tabindex="-1"></a><span class="co"># install version 3.5.1</span></span>
<span id="cb27-2"><a href="packages-management.html#cb27-2" tabindex="-1"></a><span class="fu">install_github</span>(<span class="st">&quot;tidyverse/ggplot2&quot;</span>, <span class="at">ref=</span><span class="st">&quot;ggplot2 3.5.1&quot;</span>)</span></code></pre></div>
<hr />
<p>Check installed packages</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="packages-management.html#cb28-1" tabindex="-1"></a><span class="co"># print all installed packages</span></span>
<span id="cb28-2"><a href="packages-management.html#cb28-2" tabindex="-1"></a><span class="fu">rownames</span>(<span class="fu">installed.packages</span>())</span>
<span id="cb28-3"><a href="packages-management.html#cb28-3" tabindex="-1"></a><span class="co"># check if `ggplot2` is installed</span></span>
<span id="cb28-4"><a href="packages-management.html#cb28-4" tabindex="-1"></a><span class="st">&quot;ggplot2&quot;</span> <span class="sc">%in%</span> <span class="fu">rownames</span>(<span class="fu">installed.packages</span>())</span></code></pre></div>
<p><code>installed.packages(lib.loc=NULL, priority=NULL)</code></p>
<ul>
<li><code>lib.loc</code> character vector describing the location of <strong>R</strong> library trees to search through</li>
<li><code>priority</code> used to select packages; <code>"high"</code> is equivalent to <code>c("base", "recommended")</code></li>
</ul>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="packages-management.html#cb29-1" tabindex="-1"></a><span class="co"># list all bases packages from your `R.Version`</span></span>
<span id="cb29-2"><a href="packages-management.html#cb29-2" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">rownames</span>(<span class="fu">installed.packages</span>(<span class="at">priority=</span><span class="st">&quot;base&quot;</span>))</span>
<span id="cb29-3"><a href="packages-management.html#cb29-3" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;base&quot;</span>      <span class="st">&quot;compiler&quot;</span>  <span class="st">&quot;datasets&quot;</span>  <span class="st">&quot;graphics&quot;</span>  <span class="st">&quot;grDevices&quot;</span> <span class="st">&quot;grid&quot;</span>     </span>
<span id="cb29-4"><a href="packages-management.html#cb29-4" tabindex="-1"></a> [<span class="dv">7</span>] <span class="st">&quot;methods&quot;</span>   <span class="st">&quot;parallel&quot;</span>  <span class="st">&quot;splines&quot;</span>   <span class="st">&quot;stats&quot;</span>     <span class="st">&quot;stats4&quot;</span>    <span class="st">&quot;tcltk&quot;</span>    </span>
<span id="cb29-5"><a href="packages-management.html#cb29-5" tabindex="-1"></a>[<span class="dv">13</span>] <span class="st">&quot;tools&quot;</span>     <span class="st">&quot;utils&quot;</span> </span>
<span id="cb29-6"><a href="packages-management.html#cb29-6" tabindex="-1"></a><span class="co">#  what R loads on startup</span></span>
<span id="cb29-7"><a href="packages-management.html#cb29-7" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">c</span>(<span class="fu">getOption</span>(<span class="st">&quot;defaultPackages&quot;</span>), <span class="st">&quot;base&quot;</span>)</span>
<span id="cb29-8"><a href="packages-management.html#cb29-8" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;datasets&quot;</span>  <span class="st">&quot;utils&quot;</span>     <span class="st">&quot;grDevices&quot;</span> <span class="st">&quot;graphics&quot;</span>  <span class="st">&quot;stats&quot;</span>     <span class="st">&quot;methods&quot;</span>   <span class="st">&quot;base&quot;</span>     </span></code></pre></div>
<p><code>getOption("defaultPackages")</code> is what R loads on startup although the <code>base</code>package is not counted.</p>
<p>Check package version</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="packages-management.html#cb30-1" tabindex="-1"></a><span class="fu">packageVersion</span>(<span class="st">&quot;ggplot2&quot;</span>) <span class="co"># check package version</span></span></code></pre></div>
<p>Q: How do I know if I have the latest version?<br />
A: You can go to GitHub repo to check release notes. You will find the latest version of packages there.</p>
<hr />
</div>
<div id="update-packages" class="section level3 hasAnchor" number="2.3.3">
<h3><span class="header-section-number">2.3.3</span> Update packages<a href="packages-management.html#update-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Update an individual package</p>
<ul>
<li><p>Using <code>install.packages</code></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="packages-management.html#cb31-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;ggplot2&quot;</span>) <span class="co"># update one specific package</span></span></code></pre></div></li>
<li><p>Using <code>update.packages</code></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="packages-management.html#cb32-1" tabindex="-1"></a><span class="fu">update.packages</span>(<span class="at">oldPkgs =</span> <span class="st">&quot;ggplot2&quot;</span>)</span></code></pre></div>
<p>Note that you need to <span style="color:#00CC66">specify <code>oldPkgs</code> explicily</span> as it is a named argument.</p></li>
</ul></li>
<li><p>Update ALL outdated packages</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="packages-management.html#cb33-1" tabindex="-1"></a><span class="do">## update all installed packages in a stated library location, default to `.libPaths()`</span></span>
<span id="cb33-2"><a href="packages-management.html#cb33-2" tabindex="-1"></a><span class="fu">update.packages</span>(<span class="at">lib.loc =</span> <span class="fu">.libPaths</span>(), <span class="at">ask =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
<p><code>update.packages</code> updates ALL outdated packages in a stated library location. That library location is given by the first argument (if not supplied it works on all known library locations for the current R session).<br />
It will ask you for every package if you want to update.<br />
To just say <code>yes</code> to everything, use <code>ask = FAlSE</code>.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="packages-management.html#cb34-1" tabindex="-1"></a><span class="fu">update.packages</span>(<span class="at">ask =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>Unfortunately this <span style="color:#00CC66">won’t</span> update packages installed by <code>devtools::install_github()</code></p></li>
</ul>
<hr />
<p><span style="font-size: 1.13em; font-weight: bold;">Troubleshooting</span></p>
<p>Q: I ran <code>update.packages("ggplot2")</code>, but nothing happened. No output on console, no error, nothing.<br />
A: The first argument specifies the library location you want to search through (and update packages therein). <code>update.packages("ggplot2")</code> means you want to update the packages in library location <code>ggplot2</code>, which is most <span style="color:#FF9900">unlikely</span> to exist on your R installation.</p>
<hr />
<p>Q: I tried to update <code>ggplot2</code> with <code>install.packages("ggplot2")</code>, but nothing happened.<br />
A: <span style="color:#00CC66">If <code>ggplot2</code> is already loaded</span>, then you can’t install <code>ggplot2</code> in the current session now. If you need to, save any objects you can’t easily recreate, and quit out of R. Then start a new R session, immediately run <code>install.packages("ggplot2")</code>, then once finished, load the package and reload in any previously saved objects.</p>
<hr />
<p>More about <code>update.packages</code>:</p>
<ul>
<li><p><code>update.packages(lib.loc = NULL, repos = getOption("repos"), ask = TRUE)</code>: First a list of all packages found in <code>lib.loc</code> is created and compared with those available at the repositories. If <code>ask = TRUE</code> (the default) packages with a newer version are reported and for each one the user can specify if it should be updated. If so the packages are downloaded from the repositories and installed in the respective library path (or <code>instlib</code> if specified).</p></li>
<li><p>You can specify one specific package to update using <code>update.packages(oldPkgs = "ggplot2")</code>. It will check updates only for that package and ask you if you want to update.</p>
<p>The easiest way to update an individual package is just to use <code>install.packages</code>. It is a one step command, compared to <code>update.packages</code>, which first checks and then asks.</p></li>
<li><p><code>update.packages</code> returns NULL invisibly.</p></li>
<li><p>Be aware that <u>some package updates may cause your previous code to stop working</u>. For this reason, we recommend updating all your packages once at the beginning of each academic year (or semester) – don’t do it before an assessment or deadline just in case!</p></li>
</ul>
<hr />
<p><strong>Updating all Packages after <span style="color:#0099FF">R update</span></strong></p>
<p>R packages are missing after updating. So you have to save the installed packages and re-install them after updating.</p>
<ul>
<li>Alternatively, <code>installr::updateR()</code> automatically <a href="update-r.html#update-r">updates R</a> and installs your packages. ✅</li>
</ul>
<p>Here is how to do it manually.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="packages-management.html#cb35-1" tabindex="-1"></a><span class="do">## get packages installed</span></span>
<span id="cb35-2"><a href="packages-management.html#cb35-2" tabindex="-1"></a>packs <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">installed.packages</span>(<span class="fu">.libPaths</span>()[<span class="dv">1</span>]), <span class="at">stringsAsFactors =</span> F)</span>
<span id="cb35-3"><a href="packages-management.html#cb35-3" tabindex="-1"></a><span class="co"># Save to local</span></span>
<span id="cb35-4"><a href="packages-management.html#cb35-4" tabindex="-1"></a>f_name <span class="ot">&lt;-</span> <span class="st">&quot;~/Documents/R/packages.csv&quot;</span></span>
<span id="cb35-5"><a href="packages-management.html#cb35-5" tabindex="-1"></a><span class="fu">rownames</span>(packs)</span>
<span id="cb35-6"><a href="packages-management.html#cb35-6" tabindex="-1"></a><span class="fu">write.csv</span>(packs, f_name, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb35-7"><a href="packages-management.html#cb35-7" tabindex="-1"></a>packs <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(f_name)</span>
<span id="cb35-8"><a href="packages-management.html#cb35-8" tabindex="-1"></a>packs</span>
<span id="cb35-9"><a href="packages-management.html#cb35-9" tabindex="-1"></a><span class="do">## Re-install packages using install.packages() after updating R</span></span>
<span id="cb35-10"><a href="packages-management.html#cb35-10" tabindex="-1"></a><span class="fu">install.packages</span>(packs<span class="sc">$</span>Package)</span></code></pre></div>
<p>R library path <code>/Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library</code></p>
<ul>
<li>use <code>find.package("ggplot2")</code> to find the location to where the given package is found.</li>
<li>alternatively, you can run <code>.libPaths()</code>
<ul>
<li><code>.libPaths()</code> without an argument will return a list of all the places R will currently look for loading a package when requested.</li>
<li><code>.libPaths("a/b/c")</code> with an argument will add that new directory (<code>"a/b/c"</code>) to the ones R was already using. If you use that directory often enough, you may wish to add that call to <code>.libPaths("a/b/c")</code> in your <code>.Rprofile</code> startup file in your home directory.</li>
</ul></li>
</ul>
<hr />
</div>
<div id="put-your-r-package-on-github" class="section level3 unnumbered hasAnchor">
<h3>Put your R package on GitHub<a href="packages-management.html#put-your-r-package-on-github" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Reference: <a href="https://jennybc.github.io/2014-05-12-ubc/ubc-r/session2.4_github.html" class="uri">https://jennybc.github.io/2014-05-12-ubc/ubc-r/session2.4_github.html</a></p>
<ul>
<li><p>Change to the package directory</p></li>
<li><p>Initialize the repository with <code>git init</code></p></li>
<li><p>Add and commit everything with</p>
<ol style="list-style-type: decimal">
<li><code>git add .</code> stage changes;</li>
<li><code>git status</code> optional check staged changes, but yet to submit;</li>
<li>and <code>git commit</code> submit staged changes.</li>
</ol></li>
<li><p>Create a <a href="https://github.com/new">new repository on GitHub</a></p></li>
<li><p>Connect your local repository to the GitHub one</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb36-1"><a href="packages-management.html#cb36-1" tabindex="-1"></a><span class="co"># add repo name &quot;origin&quot; to the remote repo at the URL</span></span>
<span id="cb36-2"><a href="packages-management.html#cb36-2" tabindex="-1"></a><span class="fu">git</span> remote add origin https://github.com/username/reponame</span></code></pre></div></li>
<li><p>Push everything to github</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb37-1"><a href="packages-management.html#cb37-1" tabindex="-1"></a><span class="co"># rename the current local branch to &quot;main&quot;</span></span>
<span id="cb37-2"><a href="packages-management.html#cb37-2" tabindex="-1"></a><span class="fu">git</span> branch <span class="at">-M</span> main</span>
<span id="cb37-3"><a href="packages-management.html#cb37-3" tabindex="-1"></a><span class="co"># creates a remote branch &quot;origin&quot; and sets it upstream of the &quot;main&quot; branch</span></span>
<span id="cb37-4"><a href="packages-management.html#cb37-4" tabindex="-1"></a><span class="fu">git</span> push <span class="at">-u</span> origin main</span></code></pre></div></li>
</ul>
<hr />
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="update-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="using-git-with-rstudio.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "sky",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/my1396/R-Notes/edit/main/0101-RStudio-Dark-Theme.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub", "https://github.com/my1396/R-Notes/raw/main/0101-RStudio-Dark-Theme.Rmd"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"enableEmoji": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
